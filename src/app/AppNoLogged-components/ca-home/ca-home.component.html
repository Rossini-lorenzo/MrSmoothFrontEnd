<!-- <nav class="sidebar locked sc-primary">
  <div class="logo_items flex">
    <span class="nav_image">
      <img src="assets/SmartControl_logo.jpg" alt="logo_img" />
    </span>
    <span class="logo_name">Smart Control</span>
  </div>
  <div class="menu_container">
    <div class="menu_items">
      <ul class="menu_item">
        <div class="menu_title flex">
          <span class="title fw-bold">Home</span>
          <span class="line"></span>
        </div>
        <li class="item">
          <a href="/home/overview" class="link flex">
            <i class="bx bxs-dashboard"></i>
            <span>Dashboard</span>
          </a>
        </li>
      </ul>
      <ul class="menu_item">
        <div class="menu_title flex">
          <span class="title fw-bold">***Negozio***</span>
          <span class="line"></span>
        </div>
        <li class="item">
          <a href="/home/scanaggiungi" class="link flex">
            <i class="bx bx-barcode-reader"></i>
            <span>Dipendenti</span>
          </a>
        </li>
        <li class="item">
          <a href="/home/scanaggiungi" class="link flex">
            <i class="bx bx-barcode-reader"></i>
            <span>Clienti</span>
          </a>
        </li>
        <li class="item">
          <a href="/home/scanaggiungi" class="link flex">
            <i class="bx bx-barcode-reader"></i>
            <span>Prodotti e Brand</span>
          </a>
        </li>
        <li class="item">
          <a href="/home/scanaggiungi" class="link flex">
            <i class="bx bx-barcode-reader"></i>
            <span>Servizi</span>
          </a>
        </li>
      </ul>
      <ul class="menu_item">
        <div class="menu_title flex">
          <span class="title fw-bold">Magazzino</span>
          <span class="line"></span>
        </div>
        <li class="item">
          <a href="/home/scanaggiungi" class="link flex">
            <i class="bx bx-barcode-reader"></i>
            <span>Scanner Prodotti</span>
          </a>
        </li>
        <li class="item">
          <a href="/home/scanaggiungi" class="link flex">
            <i class="bx bx-barcode-reader"></i>
            <span>Sommario Magazzino</span>
          </a>
        </li>
        <li class="item">
          <a href="/home/scanaggiungi" class="link flex">
            <i class="bx bx-barcode-reader"></i>
            <span>***Fatture prodotti***</span>
          </a>
        </li>
      </ul>
      <ul class="menu_item">
        <div class="menu_title flex">
          <span class="title fw-bold">Appuntamenti</span>
          <span class="line"></span>
        </div>
        <li class="item">
          <a href="/home/calendario" class="link flex">
            <i class="bx bxs-calendar"></i>
            <span>Agenda</span>
          </a>
        </li>
        <li class="item">
          <a href="/home/calendario" class="link flex">
            <i class="bx bxs-calendar"></i>
            <span>Gestisci messaggi automatici</span>
          </a>
        </li>
      </ul>
      <ul class="menu_item">
        <div class="menu_title flex">
          <span class="title fw-bold">Vendite</span>
          <span class="line"></span>
        </div>
        <li class="item">
          <a href="/home/chest" class="link flex">
            <i class="bx bxs-receipt"></i>
            <span>Cassa</span>
          </a>
        </li>
        <li class="item">
          <a href="/home/register" class="link flex">
            <i class="bx bxs-archive"></i>
            <span>Registro</span>
          </a>
        </li>
      </ul>
      <ul class="menu_item">
        <div class="menu_title flex">
          <span class="title fw-bold">***Statistiche***</span>
          <span class="line"></span>
        </div>
        <li class="item">
          <a href="#" class="link flex">
            <i class="bx bxs-flag"></i>
            <span>Andamento negozio</span>
          </a>
        </li>
        <li class="item">
          <a href="#" class="link flex">
            <i class="bx bxs-award"></i>
            <span>Andamento personale (dipendenti)</span>
          </a>
        </li>
        <li class="item">
          <a href="#" class="link flex">
            <i class="bx bxs-award"></i>
            <span>Fatture negozio</span>
          </a>
        </li>
      </ul>
      <ul class="menu_item">
        <div class="menu_title flex">
          <span class="title fw-bold">Esci</span>
          <span class="line"></span>
        </div>
        <li class="item">
          <a href="#" (click)="logOut()" class="link flex">
            <i class="bx bxs-cog"></i>
            <span>Logout</span>
          </a>
        </li>
      </ul>
    </div>
    <div class="sidebar_profile flex" style="margin-bottom: 40px;">
      <div class="data_text">
        <span class="name" style="display: block">Mr. Smooth Vigne</span>
        <span class="email" style="display: block">mrsmooth&#64;gmail.com</span>
      </div>
    </div>
  </div>
</nav> -->
<header class="navbar-expand-lg sc-primary fixed-top">
  <div class="container-fluid">
    <div
      class="row d-flex align-items-center"
      style="background-color: white; border-bottom: 1px solid #dfdfdf"
    >
      <div class="col-3 col-xl-2">
        <!-- Logo -->
        <a class="navbar-brand" href="#">
          <img
            src="../assets/SmartControl_logo.jpg"
            alt="Logo"
            width="50"
            height="50"
            class="me-2"
            style="height: 40px; width: 40px; border-radius: 50%"
          />
          <span class="logo_name" style="font-size: 18px">Smart Control</span>
        </a>

        <!-- Toggler -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="col-3 col-xl-4">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item" *ngFor="let breadcrumb of breadcrumbs">
              {{ breadcrumb }}
            </li>
          </ol>
        </nav>
      </div>
      <!-- <div class="col-2 d-flex justify-content-end align-items-center">
      </div> -->
      <div class="d-flex align-items-center justify-content-end col-5" style="font-size: 10px;">
        <i *ngIf="shops.length > 1" class="fa-solid fa-store fa-lg me-2" style="font-size: 15px;"></i>
        <!-- Icona dello shop -->
        <select
          *ngIf="shops.length > 1"
          id="serviceSelect"
          class="form-select me-3"
          [(ngModel)]="selectedShop"
          (ngModelChange)="onShopChange($event)"
          style="font-size: 10px; width: 150px; height: 25px; margin-right: 8px"
        >
          <option *ngFor="let shop of shops" [value]="shop.shopId">
            {{ shop.shopName.toUpperCase() }}
          </option>
        </select>
        <span id="companyName" class="fw-bold" style="font-size: 10px;">
          <i class="fa-solid fa-user fa-lg me-2" style="font-size: 14px;"></i>
          {{ companyName.toUpperCase() }}
        </span>
      </div>

      <!-- 
      <div class="col-2 d-flex justify-content-center position-relative">
        <button
          class="btn position-relative notification-icon"
          type="button"
          (click)="openModal()"
        >
          <i class="fa-solid fa-bell fa-lg me-2"></i>
          <span class="fw-bold">NOTIFICHE (2)</span>
        </button>
      </div>
          -->
      <div class="col-1 d-flex justify-content-center">
        <!-- <button class="sc-primary">
            <i class="fa-solid fa-right-from-bracket fa-lg"></i>
        </button> -->
        <a style="color: black" href="#">
          <i class="fa-solid fa-right-from-bracket fa-lg me-2"></i>
          <span class="fw-bold">ESCI</span>
        </a>
      </div>
    </div>
  </div>
</header>
<div class="container-fluid" style="padding-top: 60px">
  <div class="row">
    <div
      class="col-2 p-0"
      style="
        background-color: #6aaad8;
        max-height: 100vh;
        position: fixed;
        top: 50px;
        bottom: 0;
        overflow-y: auto;
        max-width: 245px;
      "
    >
      <aside>
        <div class="accordion accordion-flush mb-5" id="sidebarAccordion">
          <div
            class="accordion-item"
            *ngFor="let menuItem of menuItems; let index = index"
          >
            <ng-container *ngIf="menuItem.links.length > 1; else singleLink">
              <h2 class="accordion-header" [id]="'panelsStayOpen' + index">
                <button
                  style="
                    color: white;
                    background-color: #6aaad8;
                    font-size: 12px;
                  "
                  class="accordion-button sc-primary d-flex align-items-center"
                  type="button"
                  data-bs-toggle="collapse"
                  [attr.data-bs-target]="'#collapse' + index"
                  aria-expanded="false"
                  [attr.aria-controls]="'collapse' + index"
                  (click)="toggleAccordion(index)"
                  [class.collapsed]="!isOpen[index]"
                  data-bs-disable-animation="true"
                >
                  <i [class]="menuItem.icon" style="margin-right: 20px"></i>
                  {{ menuItem.title }}
                </button>
              </h2>
              <div
                [id]="'collapse' + index"
                class="accordion-collapse collapse"
                [attr.aria-labelledby]="'heading' + index"
              >
                <div
                  *ngFor="let link of menuItem.links; let linkIndex = index"
                  class="accordion-body sc-secondary border"
                  style="cursor: pointer"
                  [class.selected]="selectedLink === link"
                  (click)="selectLink(link)"
                  (keydown.enter)="selectLink(link)"
                  tabindex="0"
                  [routerLink]="link.url"
                >
                  <div class="row">
                    <div class="col-10">
                      <a
                        style="
                          text-decoration: none;
                          color: black;
                          font-size: 11px;
                        "
                        (mouseover)="onMouseOver($event)"
                        (mouseout)="onMouseOut($event)"
                        (focus)="onFocus($event)"
                        (blur)="onBlur($event)"
                      >
                        {{ link.label }}
                      </a>
                    </div>
                    <div class="col-2 d-flex justify-content-end">
                      <div>
                        <i [class]="link.icon"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
            <ng-template #singleLink>
              <h2
                class="accordion-header"
                id="homeBtn"
                style="--bs-accordion-btn-icon: none"
              >
                <button
                  (click)="selectLink(menuItem.links[0])"
                  [routerLink]="menuItem.links[0].url"
                  style="
                    color: white;
                    background-color: #6aaad8;
                    font-size: 12px;
                  "
                  class="accordion-button sc-primary d-flex align-items-center"
                  type="button"
                  data-bs-toggle="collapse"
                  [attr.data-bs-target]="'#collapse' + index"
                  aria-expanded="false"
                  [attr.aria-controls]="'collapse' + index"
                  [class.collapsed]="!isOpen[index]"
                  data-bs-disable-animation="true"
                >
                  <i [class]="menuItem.icon" style="margin-right: 20px"></i>
                  {{ menuItem.title }}
                </button>
              </h2>
            </ng-template>
          </div>
        </div>
      </aside>
    </div>

    <div class="col-10" style="margin-left: 15.666667%">
      <div class="container-fluid mt-2 mb-5 ml1">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</div>
<app-sc-modal
  *ngIf="isOpenModal"
  [title]="modalTitle"
  (closeModal)="closeModal()"
>
  <div class="modal-body-content">
    <div class="alert alert-warning mt-3 text-center" role="alert">
      <i class="fas fa-exclamation-triangle"></i>
      <span class="ms-2">Nessun servizio disponibile a sistema.</span>
    </div>
    <div class="alert alert-danger mt-3 text-center" role="alert">
      <i class="fas fa-exclamation-triangle"></i>
      <span class="ms-2">Nessun servizio disponibile a sistema.</span>
    </div>
    <div class="alert alert-info mt-3 text-center" role="alert">
      <i class="fas fa-exclamation-triangle"></i>
      <span class="ms-2">Nessun servizio disponibile a sistema.</span>
    </div>
  </div>
  <div class="modal-footer-content">
    <!-- Contenuto del footer della modale -->
    <button
      type="button"
      class="btn btn-secondary btn-sm me-2"
      (click)="closeModal()"
    >
      Chiudi
    </button>
  </div>
</app-sc-modal>

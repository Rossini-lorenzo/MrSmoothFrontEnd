<div class="mt-0">
  <ng-container *ngIf="!getItem()"> </ng-container>
  <!-- Contenuto -->
  <div class="row">
    <!-- Bottone o Calendario -->
    <div class="col-12">
      <ng-container *ngIf="getItem()">
        <!-- Calendario -->
        <div class="card">
          <div class="card-header fw-bold sc-primary">
            <i class="fa-solid fa-calendar-days fa-lg me-2"></i>Agenda
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-9">
                <full-calendar
                  #fullcalendar
                  [options]="calendarOptions"
                  style="height: 93% !important"
                ></full-calendar>
              </div>
              <div class="col-3">
                <div class="col-12">
                  <mat-calendar
                    [(selected)]="selectedDate"
                    (selectedChange)="dateSelected($event)"
                  ></mat-calendar>
                </div>

                <div class="col-12 mt-2">
                  <div
                    class="card"
                    style="display: none; font-size: 12px"
                    id="creaEvento"
                  >
                    <div class="card-header">
                      <div class="row align-items-center">
                        <div class="col-10">
                          <span id="creaEventoTitolo">Titolo della Card</span>
                        </div>
                        <div class="col-2 text-end">
                          <button
                            class="btn btn-secondary-outline close-btn"
                            (click)="closeCard()"
                          >
                            &times;
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="card-body">
                      <div class="div mb-0">
                        <!-- autocomplete.component.html -->
                        <div class="autocomplete-container">
                          <label for="titleInput">Cliente</label>
                          <input
                            type="text"
                            class="form-control"
                            id="titleInput"
                            name="titleInput"
                            [(ngModel)]="cliente"
                            (input)="onInputChange()"
                            style="font-size: 12px"
                          />
                          <ul *ngIf="isOpen" class="suggestions">
                            <li
                              *ngFor="let suggestion of filteredSuggestions"
                              (click)="selectSuggestion(suggestion)"
                            >
                              {{ suggestion.nomeCliente }}
                              {{ suggestion.cognomeCliente }}
                            </li>
                          </ul>
                        </div>

                        <label for="serviceSelect">Servizio</label>
                        <select
                          class="form-control"
                          [(ngModel)]="selectedService"
                          style="font-size: 12px"
                        >
                          <option
                            *ngFor="let service of services"
                            [value]="service.serviceName"
                          >
                            {{ service.serviceName }}
                          </option>
                        </select>
                      </div>
                      <div class="div">
                        <label for="employeeSelect">Dipendente</label>
                        <select
                          class="form-control"
                          [(ngModel)]="selectedEmployee"
                          style="font-size: 12px"
                        >
                          <option
                            *ngFor="let employee of employees"
                            [value]="employee.idDipendente"
                          >
                            {{ employee.nomeDipendente }}
                            {{ employee.cognomeDipendente }}
                          </option>
                        </select>
                      </div>
                    </div>
                    <div class="card-footer">
                      <div class="row">
                        <div class="col-12">
                          <div class="row">
                            <div class="col-12 text-center">
                              <button
                                class="btn btn-success"
                                id="creaEventoBtn"
                                style="display: none; font-size: 12px"
                                (click)="creaEvento()"
                              >
                                Salva <i class="fas fa-save"></i>
                              </button>
                            </div>
                            <div class="col-6 text-left">
                              <button
                                class="btn btn-warning"
                                id="cancellaEventoBtn"
                                style="display: none; font-size: 12px"
                                (click)="cancellaEvento()"
                              >
                                Modifica <i class="fas fa-edit"></i>
                              </button>
                            </div>

                            <div class="col-6 text-right">
                              <button
                                class="btn btn-danger"
                                id="eliminaEventoBtn"
                                style="display: none; font-size: 12px"
                                (click)="cancellaEvento()"
                              >
                                Elimina <i class="fas fa-trash"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="!getItem()">
        <div class="container-fluid">
          <div
            class="row justify-content-center align-items-center"
            style="height: 60vh"
          >
            <div class="col-sm-5">
              <div class="card text-center" style="border-radius: 4px">
                <div class="card-body">
                  <!-- Icona Calendario -->
                  <div>
                    <img
                      src="assets/google-calendar_5968499.png"
                      style="height: 50px; width: 50px"
                      alt="La mia foto"
                    />
                  </div>
                  <br />

                  <!-- Messaggio -->
                  <div class="mt-3 mb-3">
                    Accedi per visualizzare gli appuntamenti di Google Calendar
                  </div>
                  <hr style="opacity: 1" />

                  <!-- Bottone -->
                  <div class="mt-4">
                    <!-- Bottone -->
                    <button
                      class="gsi-material-button"
                      (click)="authenticateWithGoogleCalendar()"
                    >
                      <div class="gsi-material-button-state"></div>
                      <div class="gsi-material-button-content-wrapper">
                        <div class="gsi-material-button-icon">
                          <svg
                            version="1.1"
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 48 48"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            style="display: block"
                          >
                            <path
                              fill="#EA4335"
                              d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"
                            ></path>
                            <path
                              fill="#4285F4"
                              d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"
                            ></path>
                            <path
                              fill="#FBBC05"
                              d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"
                            ></path>
                            <path
                              fill="#34A853"
                              d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"
                            ></path>
                            <path fill="none" d="M0 0h48v48H0z"></path>
                          </svg>
                        </div>

                        <span class="gsi-material-button-contents"
                          >Accedi con Google</span
                        >

                        <span style="display: none">Accedi con Google</span>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
